"use strict";(()=>{var e={};e.id=864,e.ids=[864],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},3314:(e,n,t)=>{t.r(n),t.d(n,{originalPathname:()=>g,patchFetch:()=>j,requestAsyncStorage:()=>h,routeModule:()=>f,serverHooks:()=>x,staticGenerationAsyncStorage:()=>y});var r={};t.r(r),t.d(r,{GET:()=>c});var s=t(3278),a=t(5002),i=t(4877),o=t(2048),p=t.n(o),u=t(5315),l=t.n(u);let d=l().join(process.cwd(),"data.json"),m=()=>JSON.parse(p().readFileSync(d));async function c(e,{params:n}){let{username:t,filename:r}=n,s=m().users.find(e=>e.username===t);if(!s)return new Response(JSON.stringify({error:"User not found"}),{status:404,headers:{"Content-Type":"application/json"}});let a=s.uploadedFiles.find(e=>e.name===r);if(!a)return new Response(JSON.stringify({error:"File not found"}),{status:404,headers:{"Content-Type":"application/json"}});let i=l().join(process.cwd(),"public",a.name);return p().existsSync(i)?new Response(p().readFileSync(i),{status:200,headers:{"Content-Type":a.type,"Content-Disposition":`attachment; filename=${a.name}`}}):new Response(JSON.stringify({error:"File not found on server"}),{status:404,headers:{"Content-Type":"application/json"}})}let f=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/files/[username]/[filename]/route",pathname:"/api/files/[username]/[filename]",filename:"route",bundlePath:"app/api/files/[username]/[filename]/route"},resolvedPagePath:"C:\\Users\\v-muhammadg\\Desktop\\Projects\\my-next-app\\app\\api\\files\\[username]\\[filename]\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:h,staticGenerationAsyncStorage:y,serverHooks:x}=f,g="/api/files/[username]/[filename]/route";function j(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:y})}},3278:(e,n,t)=>{e.exports=t(517)}};var n=require("../../../../../webpack-runtime.js");n.C(e);var t=e=>n(n.s=e),r=n.X(0,[379],()=>t(3314));module.exports=r})();